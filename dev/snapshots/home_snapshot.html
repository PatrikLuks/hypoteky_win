

<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>JPL Servis</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/fontawesome/css/all.min.css">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
      body {
        background: #181a1b;
        color: #e0e0e0;
        font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      }
      .navbar {
        background: #23272b !important;
        box-shadow: 0 2px 8px #0008;
        z-index: 1050; /* zvýšení z-index pro mobilní menu */
      }
      .navbar .nav-link, .navbar .navbar-brand {
        color: #e0e0e0 !important;
      }
      .navbar .nav-link.active, .navbar .nav-link:hover {
        color: #ffd700 !important;
        font-weight: 500;
      }
      .navbar .navbar-brand {
        font-size: 1.2rem;
        letter-spacing: 1px;
        color: #ffd700 !important;
      }
      .table, .table th, .table td {
        background: #23272b !important;
        color: #e0e0e0 !important;
      }
      .table-striped > tbody > tr:nth-of-type(odd) {
        background-color: #23272b !important;
      }
      .table-striped > tbody > tr:nth-of-type(even) {
        background-color: #181a1b !important;
      }
      .table-light, .table-light th, .table-light td {
        background: #23272b !important;
        color: #ffd700 !important;
      }
      .table-bordered, .table-bordered th, .table-bordered td {
        border-color: #444 !important;
      }
      .card {
        background: #23272b;
        color: #e0e0e0;
        border: none;
        box-shadow: 0 2px 12px #0006;
        border-radius: 1rem;
      }
      .card-title, .display-4, .display-6, h1, h2, h3, h4, h5, h6 {
        color: #ffd700;
      }
      .btn-primary {
        background: linear-gradient(90deg, #ffd700 0%, #bfa100 100%);
        color: #181a1b;
        border: none;
        font-weight: 600;
        box-shadow: 0 2px 8px #0004;
      }
      .btn-primary:hover, .btn-primary:focus {
        background: linear-gradient(90deg, #ffe066 0%, #bfa100 100%);
        color: #181a1b;
      }
      .btn-success {
        background: linear-gradient(90deg, #1ed760 0%, #145c32 100%);
        color: #181a1b;
        border: none;
        font-weight: 600;
        box-shadow: 0 2px 8px #0004;
      }
      .btn-success:hover, .btn-success:focus {
        background: linear-gradient(90deg, #2eea7a 0%, #145c32 100%);
        color: #181a1b;
      }
      .btn-outline-primary {
        border-color: #ffd700;
        color: #ffd700;
      }
      .btn-outline-primary:hover, .btn-outline-primary:focus {
        background: #ffd700;
        color: #181a1b;
      }
      .btn-outline-secondary {
        border-color: #888;
        color: #e0e0e0;
      }
      .btn-outline-secondary:hover, .btn-outline-secondary:focus {
        background: #444;
        color: #ffd700;
      }
      .form-control, .form-select {
        background: #23272b;
        color: #e0e0e0;
        border: 1px solid #444;
      }
      .form-control:focus, .form-select:focus {
        border-color: #ffd700;
        box-shadow: 0 0 0 0.2rem #ffd70033;
        background: #23272b;
        color: #fff;
      }
      .progress {
        background: #23272b;
        border-radius: 1rem;
      }
      .progress-bar {
        background: linear-gradient(90deg, #ffd700 0%, #bfa100 100%);
        color: #181a1b;
        font-weight: 600;
      }
      .badge-urgent {
        background: #dc3545;
        color: #fff;
        animation: pulse 1.2s infinite alternate;
      }
      @keyframes pulse {
        0% { box-shadow: 0 0 0 0 #dc354580; }
        100% { box-shadow: 0 0 8px 4px #dc354540; }
      }
      .sticky-bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 1040; /* vyšší než běžný obsah, nižší než navbar */
        background: #23272b;
        border-top: 1px solid #ffd70033;
        box-shadow: 0 -2px 8px #0008;
      }
      .modal-content {
        background: #23272b;
        color: #e0e0e0;
        border-radius: 1rem;
      }
      .list-group-item {
        background: #23272b;
        color: #e0e0e0;
        border: none;
        border-bottom: 1px solid #333;
      }
      .list-group-item:last-child {
        border-bottom: none;
      }
      .form-label {
        font-weight: 500;
        color: #ffd700;
      }
      .alert {
        background: #23272b;
        color: #ffd700;
        border: 1px solid #ffd70044;
      }
      .table-warning, .table-warning th, .table-warning td {
        background: #23272b !important;
        color: #ffd700 !important;
      }
      .table-danger, .table-danger th, .table-danger td {
        background: #3a1a1a !important;
        color: #ff4e50 !important;
      }
      .table-light {
        background: #23272b !important;
        color: #ffd700 !important;
      }
      .bg-primary, .btn-primary, .progress-bar {
        background: linear-gradient(90deg, #ffd700 0%, #bfa100 100%) !important;
        color: #181a1b !important;
      }
      .bg-success {
        background: linear-gradient(90deg, #1ed760 0%, #145c32 100%) !important;
      }
      .bg-info {
        background: linear-gradient(90deg, #4fd1c5 0%, #285e61 100%) !important;
      }
      .bg-danger {
        background: linear-gradient(90deg, #ff4e50 0%, #c0392b 100%) !important;
      }
      .bg-warning {
        background: linear-gradient(90deg, #ffd700 0%, #bfa100 100%) !important;
        color: #181a1b !important;
      }
      .border-primary {
        border-color: #ffd700 !important;
      }
      .shadow {
        box-shadow: 0 2px 12px #000a !important;
      }
      ::selection {
        background: #ffd70044;
      }
      a, .btn-link {
        color: #ffd700;
      }
      a:hover, .btn-link:hover {
        color: #fffbe6;
        text-decoration: underline;
      }
      .dropdown-menu {
        background: #23272b;
        color: #e0e0e0;
      }
      .dropdown-item {
        color: #e0e0e0;
      }
      .dropdown-item.active, .dropdown-item:active {
        background: #ffd700;
        color: #181a1b;
      }
      .form-check-input:checked {
        background-color: #ffd700;
        border-color: #ffd700;
      }
      .form-check-input {
        background-color: #23272b;
        border-color: #444;
      }
      .form-switch .form-check-input:checked {
        background-color: #ffd700;
      }
      .form-switch .form-check-input {
        background-color: #23272b;
      }
      .input-group-text {
        background: #23272b;
        color: #ffd700;
        border: 1px solid #444;
      }
      .pagination .page-link {
        background: #23272b;
        color: #ffd700;
        border: 1px solid #444;
      }
      .pagination .page-link.active, .pagination .active > .page-link {
        background: #ffd700;
        color: #181a1b;
        border-color: #ffd700;
      }
      .pagination .page-link:hover {
        background: #ffd70044;
        color: #fff;
      }
      .badge {
        background: #ffd700;
        color: #181a1b;
      }
      .badge.bg-info {
        background: #4fd1c5 !important;
        color: #181a1b !important;
      }
      .badge.bg-danger {
        background: #ff4e50 !important;
        color: #fff !important;
      }
      .badge.bg-warning {
        background: #ffd700 !important;
        color: #181a1b !important;
      }
      .badge.bg-success {
        background: #1ed760 !important;
        color: #fff !important;
      }
      .badge.bg-primary {
        background: #ffd700 !important;
        color: #181a1b !important;
      }
      .badge-urgent {
        background: #ff4444 !important;
        color: #fff !important;
      }
      .modal-header, .modal-footer {
        border: none;
      }
      .modal-title {
        color: #ffd700;
      }
      .form-control[readonly] {
        background: #23272b;
        color: #ffd700;
      }
      .form-range::-webkit-slider-thumb {
        background: #ffd700;
      }
      .form-range::-moz-range-thumb {
        background: #ffd700;
      }
      .form-range::-ms-thumb {
        background: #ffd700;
      }
      .form-range {
        background: #23272b;
      }
      .form-range::-webkit-slider-runnable-track {
        background: #444;
      }
      .form-range::-moz-range-track {
        background: #444;
      }
      .form-range::-ms-fill-lower {
        background: #444;
      }
      .form-range::-ms-fill-upper {
        background: #444;
      }
      .form-range:focus {
        outline: none;
        box-shadow: 0 0 0 0.2rem #ffd70033;
      }
      .form-range:focus::-webkit-slider-thumb {
        box-shadow: 0 0 0 0.2rem #ffd70033;
      }
      .form-range:focus::-moz-range-thumb {
        box-shadow: 0 0 0 0.2rem #ffd70033;
      }
      .form-range:focus::-ms-thumb {
        box-shadow: 0 0 0 0.2rem #ffd70033;
      }
      .form-range::-webkit-slider-thumb {
        border: 2px solid #ffd700;
      }
      .form-range::-moz-range-thumb {
        border: 2px solid #ffd700;
      }
      .form-range::-ms-thumb {
        border: 2px solid #ffd700;
      }
      .form-range::-webkit-slider-thumb {
        box-shadow: 0 2px 8px #0004;
      }
      .form-range::-moz-range-thumb {
        box-shadow: 0 2px 8px #0004;
      }
      .form-range::-ms-thumb {
        box-shadow: 0 2px 8px #0004;
      }
      .form-range::-webkit-slider-thumb:active {
        background: #ffe066;
      }
      .form-range::-moz-range-thumb:active {
        background: #ffe066;
      }
      .form-range::-ms-thumb:active {
        background: #ffe066;
      }
      .form-range::-webkit-slider-thumb:focus {
        outline: none;
      }
      .form-range::-moz-range-thumb:focus {
        outline: none;
      }
      .form-range::-ms-thumb:focus {
        outline: none;
      }
      .form-range::-webkit-slider-thumb:focus {
        outline: none;
      }
      .form-range::-webkit-slider-thumb:active {
        outline: none;
      }
      .form-range::-moz-range-thumb:active {
        outline: none;
      }
      .form-range::-ms-thumb:active {
        outline: none;
      }
      .form-range::-webkit-slider-thumb:focus {
        outline: none;
      }
      .form-range::-webkit-slider-thumb:active {
        outline: none;
      }
      .form-range::-moz-range-thumb:focus {
        outline: none;
      }
      .form-range::-moz-range-thumb:active {
        outline: none;
      }
      .form-range::-ms-thumb:focus {
        outline: none;
      }
      .form-range::-ms-thumb:active {
        outline: none;
      }
      .form-range::-webkit-slider-thumb:focus {
        outline: none;
      }
      .form-range::-webkit-slider-thumb:active {
        outline: none;
      }
      .form-range::-moz-range-thumb:focus {
        outline: none;
      }
      .form-range::-moz-range-thumb:active {
        outline: none;
      }
      .form-range::-ms-thumb:focus {
        outline: none;
      }
      .form-range::-ms-thumb:active {
        outline: none;
      }
      @media (max-width: 991.98px) {
        #mainNavbar.collapse.show {
          background: rgba(35,39,43,0.98);
          border-radius: 0 0 18px 18px;
          box-shadow: 0 8px 32px #000a;
          padding: 1.2rem 0 1.2rem 0;
        }
        #mainNavbar .navbar-nav {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 0.5rem;
        }
        #mainNavbar .navbar-nav .nav-item {
          width: 100%;
          display: flex;
          justify-content: center;
        }
        #mainNavbar .navbar-nav .nav-link {
          font-size: 1.2rem;
          padding: 1rem 1.5rem;
          margin-bottom: 0.3rem;
          border-radius: 8px;
          width: 100%;
          text-align: center;
        }
        #mainNavbar .navbar-nav.flex-row {
          flex-direction: column !important;
          align-items: center !important;
        }
        #mainNavbar .navbar-nav.flex-row .nav-item {
          width: 100% !important;
          display: flex !important;
          justify-content: center !important;
        }
        #mainNavbar .navbar-nav.flex-row .nav-link {
          text-align: center !important;
          width: 100% !important;
        }
      }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light mb-4 rounded">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="/">JPL Servis</a>
    <!-- Hamburger pouze na malých obrazovkách -->
    <button class="navbar-toggler d-lg-none d-flex align-items-center justify-content-center" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Menu" style="z-index:1060; background:rgba(35,39,43,0.98); border-radius:12px; border:2px solid #ffd700; width:48px; height:48px; box-shadow:0 2px 8px #0006;">
      <span style="display:inline-block;width:28px;height:28px;">
        <svg viewBox="0 0 32 32" width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect y="6" width="32" height="4" rx="2" fill="#ffd700"/>
          <rect y="14" width="32" height="4" rx="2" fill="#ffd700"/>
          <rect y="22" width="32" height="4" rx="2" fill="#ffd700"/>
        </svg>
      </span>
    </button>
    <div class="collapse navbar-collapse" id="mainNavbar">

      <div class="d-flex align-items-center ms-auto gap-2">
        <ul class="navbar-nav flex-row ms-2 w-100 justify-content-center">


              <li class="nav-item d-flex align-items-center ms-2">
                <span class="badge" style="background:#23272b; color:#ffd700; font-size:1rem; border-radius:12px; padding:0.5em 1em; box-shadow:0 1px 4px #0002;">Klient</span>
              </li>
              <li class="nav-item d-flex align-items-center ms-2">
                <span class="ms-1" style="color:#ffd700; font-weight:600; font-size:1.08rem; letter-spacing:0.5px;">hometest</span>
              </li>
              <li class="nav-item d-flex align-items-center ms-2">
                <a class="nav-link px-3 fw-bold" style="color:#ffd700; background:transparent; border:none; font-size:1.08rem; letter-spacing:0.5px; font-weight:600; text-align:center; min-width:unset; border-radius:0; box-shadow:none; padding-left:0; padding-right:0; transition:color 0.2s;"
                   href="/account/password_change/">
                  <i class="fa fa-key me-1"></i> Změnit heslo
                </a>
              </li>
              <li class="nav-item d-flex align-items-center ms-2">
                <a class="nav-link px-3" style="min-width:120px; text-align:center; border-radius:20px; border:2px solid #ffd700; color:#ffd700; background:transparent; transition:background 0.2s, color 0.2s; font-size:1.08rem; letter-spacing:0.5px;" href="/account/logout/"><i class="fa fa-sign-out-alt me-1"></i>Odhlásit</a>
              </li>


        </ul>
      </div>
    </div>
  </div>
</nav>
<div class="container mt-4">

<div class="container-fluid">

  <h1 class="mb-4"><i class="fa fa-user text-primary"></i> Moje hypotéka</h1>

    <div class="alert alert-info">Nemáte žádnou evidovanou hypotéku. Kontaktujte svého finančního poradce.</div>


</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script id="workflowCountsData" type="application/json">[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</script>
<script id="workflowSumsData" type="application/json">[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]</script>
<script id="monthsData" type="application/json">["2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11"]</script>
<script id="klientiTimelineData" type="application/json">[0, 0, 0, 0, 0, 0, 0]</script>
<script id="objemTimelineData" type="application/json">[0, 0, 0, 0, 0, 0, 0]</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const workflowCounts = JSON.parse(document.getElementById('workflowCountsData').textContent);
  const workflowSums = JSON.parse(document.getElementById('workflowSumsData').textContent);
  const months = JSON.parse(document.getElementById('monthsData').textContent);
  const klientiTimeline = JSON.parse(document.getElementById('klientiTimelineData').textContent);
  const objemTimeline = JSON.parse(document.getElementById('objemTimelineData').textContent);
  const ctxPie = document.getElementById('workflowPieChart');
  const ctxBar = document.getElementById('workflowBarChart');
  const ctxLine = document.getElementById('klientiLineChart');
  const ctxObjem = document.getElementById('objemLineChart');
  if (!ctxPie) { console.warn('Canvas workflowPieChart nenalezen!'); }
  if (!ctxBar) { console.warn('Canvas workflowBarChart nenalezen!'); }
  if (!ctxLine) { console.warn('Canvas klientiLineChart nenalezen!'); }
  if (!ctxObjem) { console.warn('Canvas objemLineChart nenalezen!'); }
  // Kontrola dat
  if (typeof workflowCounts === 'undefined') { console.warn('workflowCounts není definováno!'); }
  if (typeof workflowSums === 'undefined' ) { console.warn('workflowSums není definováno!'); }
  if (typeof months === 'undefined' ) { console.warn('months není definováno!'); }
  if (typeof klientiTimeline === 'undefined' ) { console.warn('klientiTimeline není definováno!'); }
  if (typeof objemTimeline === 'undefined' ) { console.warn('objemTimeline není definováno!'); }
  // Pokud vše existuje, vykresli grafy
  if (ctxPie && ctxBar && ctxLine && ctxObjem && typeof workflowCounts !== 'undefined' && typeof workflowSums !== 'undefined' && typeof months !== 'undefined' && typeof klientiTimeline !== 'undefined' && typeof objemTimeline !== 'undefined') {
    const workflowLabels = [
      'Jméno klienta', 'Co chce klient financovat', 'Návrh financování', 'Výběr banky', 'Příprava žádosti',
      'Kompletace podkladů', 'Podání žádosti', 'Odhad', 'Schvalování', 'Příprava úvěrové dokumentace',
      'Podpis úvěrové dokumentace', 'Příprava čerpání', 'Čerpání', 'Zahájení splácení', 'Podmínky pro vyčerpání', 'Hotovo'
    ];
    const pieColors = [
      '#0A192F', // tmavě modrá (luxusní základ)
      '#FFD700', // zlatá (jasná, kontrastní)
      '#BFA76F', // tmavší champagne (lepší kontrast)
      '#23272B', // tmavě šedá
      '#E5E4E2', // světle šedá místo bílé (lepší kontrast)
      '#50C878', // smaragdová (jasná)
      '#0F52BA', // safírová (sytá)
      '#C0C0C0', // stříbrná
      '#800020', // vínová (tmavá)
      '#2E8B57', // tmavě zelená (lepší kontrast)
      '#6C3483', // tmavě fialová (sytější)
      '#B2BABB', // platinová (světle šedá, kontrastní)
      '#B76E79', // růžové zlato
      '#CD7F32', // bronzová
      '#5DADE2'  // ledově modrá (jasnější)
    ];
    const barColors = pieColors;
    new Chart(ctxPie, {
      type: 'pie',
      data: {
        labels: workflowLabels, // bez slice(1)
        datasets: [{ data: workflowCounts, backgroundColor: pieColors }]
      },
      options: {
        plugins: {legend: {position: 'bottom', labels: {color: '#FFD700'}}},
        responsive: true,
        aspectRatio: 1.2,
        maintainAspectRatio: false,
      }
    });
    new Chart(ctxBar, {
      type: 'bar',
      data: {
        labels: workflowLabels.slice(1),
        datasets: [{ label: 'Objem hypoték (Kč)', data: workflowSums.slice(1), backgroundColor: '#FFD700', borderColor: '#FFD700', borderWidth: 1 }]
      },
      options: {plugins: {legend: {display: false}}, scales: {y: {beginAtZero: true}}}
    });
    new Chart(ctxLine, {
      type: 'line',
      data: {
        labels: months,
        datasets: [{ label: 'Počet klientů', data: klientiTimeline, borderColor: '#FFD700', backgroundColor: 'rgba(255,215,0,0.15)', tension: 0.3, fill: true }]
      },
      options: {plugins: {legend: {display: false}}}
    });
    new Chart(ctxObjem, {
      type: 'line',
      data: {
        labels: months,
        datasets: [{ label: 'Objem hypoték (Kč)', data: objemTimeline, borderColor: '#FFD700', backgroundColor: 'rgba(255,215,0,0.15)', tension: 0.3, fill: true }]
      },
      options: {plugins: {legend: {display: false}}}
    });
  }
});
</script>

</div>
<!-- sticky-bottom-nav a vše s ní spojené bylo odstraněno -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
  tooltipTriggerList.forEach(function (tooltipTriggerEl) {
    new bootstrap.Tooltip(tooltipTriggerEl);
  });
});
</script>
</body>
</html>
